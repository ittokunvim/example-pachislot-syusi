<%# REQUIRE: @blances %>

<% content_for(:title, t(".title")) %>

<div class="blances__index">
  <div class="list">
    <% @blances.each do |blance| %>
      <%= render "blance", blance: blance %>
    <% end %>
  </div>
  <div class="new_blance">
    <%= link_to t(".new_blance"), new_blance_path, class: "creation-link-btn" %>
  </div>
</div>

<script>
  document.querySelectorAll("#result").forEach((result) => {
    const resultTextLength = result.textContent.replaceAll(/\+/g, "").length;
    const resultText = result.textContent.replaceAll(/,|å††/g, "");
    const resultNum = Number(resultText);
    if (resultNum === 0) {
      result.classList.add("zero");
    } else if (resultNum > 0) {
      result.textContent = result.textContent.padStart(resultTextLength + 1, "+");
      result.classList.add("plus");
    } else {
      result.classList.add("minus");
    }
  });
</script>
